# API è·¯ç”±ç‹€æ…‹å ±å‘Š

## ğŸ“‹ ç•¶å‰ç‹€æ³

### âœ… å¾Œç«¯ä¼ºæœå™¨ (å·²æ­£ç¢º)
**æª”æ¡ˆ**: `dungeon-delvers-metadata-server/src/index.js`

å¯¦éš›é‹è¡Œçš„ API è·¯ç”±ï¼š
- `/api/hero/:tokenId` âœ…
- `/api/relic/:tokenId` âœ…
- `/api/party/:tokenId` âœ…
- `/api/profile/:tokenId` âœ… (æœ€çµ‚æ­£ç¢ºç‰ˆæœ¬)
- `/api/vip/:tokenId` âœ… (æœ€çµ‚æ­£ç¢ºç‰ˆæœ¬)

### âœ… å‰ç«¯ç¨‹å¼ç¢¼ (ç„¡éœ€ä¿®æ”¹)
**æª¢æŸ¥ç¯„åœ**: `src/`, `public/`, `components/`, `pages/` ç­‰æ‰€æœ‰å‰ç«¯ç›®éŒ„

**çµæœ**: å‰ç«¯ç¨‹å¼ç¢¼ä¸¦æœªç›´æ¥å‘¼å«é€™äº› API ç«¯é»ï¼Œè€Œæ˜¯é€éï¼š
1. **The Graph (GraphQL)** æŸ¥è©¢ç©å®¶è³‡æ–™
2. **ç›´æ¥å‘¼å«åˆç´„** çš„ `tokenURI` å‡½æ•¸å–å¾— metadata
3. **fetchMetadata å‡½æ•¸** è™•ç† IPFS/HTTP å…§å®¹

å› æ­¤å‰ç«¯ç„¡éœ€ä¿®æ”¹ã€‚

### âœ… æ¸¬è©¦è…³æœ¬ (å·²æ­£ç¢º)
**æª”æ¡ˆ**: `diagnostic_script.js`
- ä½¿ç”¨æ­£ç¢ºçš„ `/api/vip` ç«¯é» âœ…

### âœ… æ–‡ä»¶å·²ä¿®æ­£
**å·²ä¿®æ­£çš„æª”æ¡ˆ**:
1. `dungeon-delvers-metadata-server/README.md` âœ…
   - ä½¿ç”¨æ­£ç¢ºçš„ `/api/profile` å’Œ `/api/vip` ç«¯é»

2. `dungeon-delvers-metadata-server/DEPLOYMENT_GUIDE.md` âœ…
   - ä½¿ç”¨æ­£ç¢ºçš„ API ç«¯é»èªªæ˜
   - æ›´æ–°æ¸¬è©¦å‘½ä»¤

3. `dungeon-delvers-metadata-server/scripts/test-performance.sh` âœ…
   - æ›´æ–°æ¸¬è©¦ç«¯é»

4. `diagnostic_script.js` âœ…
   - æ›´æ–° VIP API æ¸¬è©¦ç«¯é»

## ğŸ” æœ€çµ‚ç¢ºèª

### ç›®å‰ä½¿ç”¨çš„ API ç«¯é»
```
GET /api/hero/:tokenId
GET /api/relic/:tokenId  
GET /api/party/:tokenId
GET /api/profile/:tokenId    (å€‹äººæª”æ¡ˆ)
GET /api/vip/:tokenId        (VIP å¡)
```

### æª¢æŸ¥çµæœ
- âœ… å¾Œç«¯ç¨‹å¼ç¢¼ä½¿ç”¨æ­£ç¢ºè·¯ç”±
- âœ… å‰ç«¯ç¨‹å¼ç¢¼ç„¡ç›´æ¥å‘¼å«ï¼Œç„¡éœ€ä¿®æ”¹
- âœ… æ¸¬è©¦è…³æœ¬ä½¿ç”¨æ­£ç¢ºç«¯é»
- âœ… æ–‡ä»¶å·²æ›´æ–°ç‚ºæ­£ç¢ºè³‡è¨Š

## ğŸ’¡ å»ºè­°

1. **åˆç´„å±¤é¢**: ç¢ºèªæ™ºèƒ½åˆç´„çš„ `tokenURI` å‡½æ•¸è¿”å›æ­£ç¢ºçš„ URL
2. **å¿«å–æ¸…ç†**: å¦‚æœä¹‹å‰éƒ¨ç½²éèˆŠç«¯é»ï¼Œå»ºè­°æ¸…ç† CDN/ç€è¦½å™¨å¿«å–
3. **ç›£æ§**: ä½¿ç”¨ `/health` ç«¯é»ç›£æ§æœå‹™ç‹€æ…‹

## ğŸ¯ çµè«–

**æ‰€æœ‰ API è·¯ç”±å•é¡Œå·²è§£æ±º**ï¼Œç›®å‰ç³»çµ±ä½¿ç”¨ç°¡æ½”çš„ç«¯é»æ ¼å¼ï¼š
- å€‹äººæª”æ¡ˆ: `/api/profile/:tokenId`
- VIP å¡: `/api/vip/:tokenId`

å‰ç«¯ç¨‹å¼ç¢¼ç„¡éœ€ä¿®æ”¹ï¼Œå› ç‚ºå®ƒé€é The Graph å’Œç›´æ¥åˆç´„å‘¼å«ä¾†ç²å–è³‡æ–™ã€‚