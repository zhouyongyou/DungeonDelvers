# Player Analytics Query
query GetPlayerAnalytics($address: Bytes!, $first: Int!, $skip: Int!) {
  player(id: $address) {
    id
    profile {
      id
      name
      level
      experience
      successfulExpeditions
      totalRewardsEarned
    }
    parties(first: 20, orderBy: totalPower, orderDirection: desc) {
      id
      tokenId
      name
      totalPower
      expeditions(first: 100) {
        id
        success
        reward
        timestamp
        dungeonId
        dungeonName
      }
    }
    expeditions(first: $first, skip: $skip, orderBy: timestamp, orderDirection: desc) {
      id
      success
      reward
      expGained
      timestamp
      dungeonId
      dungeonName
      dungeonPowerRequired
      party {
        id
        name
      }
    }
  }
}

# Player Profile Query
query GetPlayerProfile($address: Bytes!) {
  player(id: $address) {
    id
    profile {
      id
      name
      level
      experience
      totalRewardsEarned
    }
    stats {
      totalExpeditions
      successfulExpeditions
      totalRewardsEarned
    }
  }
}

# Expeditions History Query
query GetExpeditionsHistory($address: Bytes!, $first: Int!, $skip: Int!) {
  player(id: $address) {
    expeditions(first: $first, skip: $skip, orderBy: timestamp, orderDirection: desc) {
      id
      dungeonId
      dungeonName
      dungeonPowerRequired
      success
      reward
      expGained
      timestamp
      party {
        id
        tokenId
        name
        totalPower
      }
    }
  }
}

# Party Details Query
query GetPartyDetails($partyId: String!) {
  party(id: $partyId) {
    id
    tokenId
    name
    owner {
      id
    }
    totalPower
    totalCapacity
    partyRarity
    provisionsRemaining
    unclaimedRewards
    cooldownEndsAt
    heroes {
      id
      tokenId
      rarity
      power
    }
    relics {
      id
      tokenId
      rarity
      capacity
    }
    expeditions(first: 10, orderBy: timestamp, orderDirection: desc) {
      id
      dungeonName
      success
      reward
      timestamp
    }
  }
}