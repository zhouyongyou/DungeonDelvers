# 🧪 系統修復驗證清單

## 📋 測試前準備
- [ ] 確保所有修改已保存
- [ ] 執行 `npm run dev` 啟動開發環境
- [ ] 開啟瀏覽器開發者工具 (F12)
- [ ] 清除 localStorage：`localStorage.clear()`
- [ ] 清除瀏覽器快取

## 1. RPC 速率限制測試 (429 錯誤)
### 測試步驟：
1. [ ] 開啟 Network 標籤，過濾 "alchemy" 請求
2. [ ] 快速切換多個頁面（首頁→市場→遊戲數據→地下城）
3. [ ] 觀察 Console 是否出現 "⚠️ RPC 速率限制，切換到下一個節點"
4. [ ] 確認是否還有 429 錯誤

### 預期結果：
- ✅ 應該看到 "🔑 使用 Alchemy Key X/5" 訊息
- ✅ 出現速率限制時自動切換
- ✅ 無 429 錯誤或快速恢復

## 2. 稀有度顯示測試
### 測試步驟：
1. [ ] 導航到遊戲數據頁 (`/#/gameData`)
2. [ ] 切換到「數據查詢」標籤
3. [ ] 查詢英雄 ID: 1, 100, 500
4. [ ] 查詢聖物 ID: 1, 50, 200
5. [ ] 查詢隊伍 ID: 1, 10, 100

### 預期結果：
- ✅ 稀有度顯示格式：`普通 (1 ⭐)` 而非 "Common"
- ✅ 應該看到：N (1⭐)、R (2⭐)、SR (3⭐)、SSR (4⭐)、UR (5⭐)

## 3. 排行榜功能測試
### 測試步驟：
1. [ ] 在遊戲數據頁查看「排行榜」標籤
2. [ ] 依序點擊：隊伍戰力、英雄戰力、VIP質押、最近遠征
3. [ ] 觀察 Console 是否有 GraphQL 錯誤

### 預期結果：
- ✅ 4 個排行榜都正常載入
- ✅ 無 GraphQL 錯誤訊息
- ✅ 數據正確顯示

## 4. 市場通知系統測試
### 測試步驟：
1. [ ] 導航到市場頁面 (`/#/marketplace`)
2. [ ] 點擊右上角通知圖標
3. [ ] 檢查通知列表

### 預期結果：
- ✅ 如果是新用戶：顯示「暫無通知」
- ✅ 如果有歷史：只顯示真實交易通知
- ❌ 不應該看到假的隨機通知

### 創建真實通知測試：
1. [ ] 點擊「掛單」按鈕
2. [ ] 選擇一個 NFT
3. [ ] 設定價格並確認
4. [ ] 檢查是否收到「掛單創建成功」通知

## 5. 批量操作測試
### 測試步驟：
1. [ ] 在市場頁面點擊「批量操作」
2. [ ] 選擇 2-3 個 NFT
3. [ ] 設定統一價格
4. [ ] 執行批量掛單

### 預期結果：
- ✅ 每個掛單都產生一個通知
- ✅ 通知顯示正確的 NFT ID 和價格

## 6. Require 錯誤測試
### 測試步驟：
1. [ ] 開啟 Console
2. [ ] 瀏覽所有主要頁面
3. [ ] 執行一些交易操作

### 預期結果：
- ✅ Console 中無 "require is not defined" 錯誤
- ✅ 所有頁面正常載入

## 7. 性能監控
### 測試項目：
1. [ ] 頁面載入時間 < 3 秒
2. [ ] RPC 請求響應時間 < 1 秒
3. [ ] 無記憶體洩漏（使用 Performance 標籤監控）

## 📊 測試結果記錄

| 測試項目 | 狀態 | 備註 |
|---------|------|------|
| RPC 429 錯誤 | ⬜ | |
| 稀有度顯示 | ⬜ | |
| 排行榜載入 | ⬜ | |
| 通知系統 | ⬜ | |
| 批量操作 | ⬜ | |
| Require 錯誤 | ⬜ | |
| 整體性能 | ⬜ | |

## 🐛 發現的問題
1. 
2. 
3. 

## 📝 改進建議
1. 
2. 
3. 

---
測試時間：____年__月__日 __:__
測試人員：________________