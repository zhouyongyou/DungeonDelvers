---
description: 我們的遊戲架構圍繞多個核心的 ERC721 智能合約構建，實現了資產與邏輯的高度模組化。
---

# 2. 核心遊戲機制 (Core Gameplay)

#### **2.1 核心資產 NFT**

* **👨‍🚀 英雄 (Hero NFT)**：您冒險隊伍的核心戰鬥力來源。每一位英雄都是一個獨一無二的 NFT，其核心屬性「**戰力 (Power)**」在鑄造時由鏈上隨機生成，是挑戰高等級地下城、獲取豐厚獎勵的關鍵。
* **🏺 聖物 (Relic NFT)**：承載英雄靈魂的容器，是擴大隊伍規模、提升隊伍潛力的唯一途徑。其核心屬性「**容量 (Capacity)**」決定了您的隊伍可以容納多少位英雄。
* **🛡️ 隊伍 (Party NFT)**：一個創新的複合型 NFT，允許玩家將自己擁有的多個英雄和一個或多個聖物「打包」成一個全新的、可交易的整體。隊伍的總戰力是所有英雄戰力的總和。

#### **2.2 地下城遠征循環**

這是遊戲的核心 PVE 循環，也是獲取 `$SoulShard` 的主要途徑。

1. **購買儲備 (Provisions)**: 在派遣隊伍前，玩家需使用 `$SoulShard` 為隊伍購買「儲備」。每次購買都會從您的**遊戲內金庫**扣款。
2. **派遣遠征 (Expedition)**: 選擇一支隊伍和一個目標地下城。每個地下城都有特定的「戰力要求」。
3. **隨機成功率**: 遠征的成功與否，由鏈上可驗證的隨機數決定，確保了絕對的公平與透明。
4. **獲取獎勵**: 成功完成遠征的隊伍將獲得以美元價值錨定的 `$SoulShard` 獎勵，以及**經驗值 (EXP)**。獎勵會先存入隊伍的「待結算池」，玩家可隨時手動領取至「個人金庫」。
5. **進入冷卻與疲勞**: 無論成功與否，每次遠征後，隊伍都將進入 **24 小時的冷卻期**，並增加 **1 點疲勞度**。

#### **2.3 疲勞與休息 (Fatigue & Rest)**

「疲勞度」是一個關鍵的策略性機制，它為遊戲增加了深度和可持續性。

* **有效戰力**: 每 1 點疲勞度會使隊伍的**總戰力降低 2%**。這意味著一支疲憊的隊伍可能無法挑戰高難度的地城。
* **休息恢復**: 玩家可以隨時選擇「休息」來立即清除隊伍的所有疲勞度，使其恢復到 100% 的戰力。
* **休息成本**: 休息需要消耗一定數量的 `$SoulShard`，成本與隊伍的**總戰力**成正比。這為 `$SoulShard` 創造了一個重要的消耗場景。

#### **2.4 玩家個人檔案 (Player Profile - SBT)**

玩家個人檔案是一個靈魂綁定代幣 (Soul-Bound Token, SBT)，它記錄了您在《Dungeon Delvers》世界中的所有成就與進程，是一個不可轉讓的榮譽象徵。

* **自動創建**: 當玩家首次完成地下城遠征並獲得經驗值時，系統會自動為其鑄造一個獨一無二的個人檔案 NFT。
* **經驗與等級**: 此 NFT 會記錄玩家累積的總經驗值（EXP）。經驗值的提升會帶來等級的成長（等級 = `sqrt(EXP / 100) + 1`）。
* **等級助益**: 玩家等級越高，在從金庫提領獎勵時，能享受越高的**稅率減免**。
* **動態鏈上藝術品**: 您的等級和經驗進度將透過 `ProfileSVGLibrary.sol` 生成一個完全在鏈上的動態 SVG 圖像。隨著您的等級提升，您個人檔案的視覺外觀（如背景、能量環）也會變得更加炫酷。
