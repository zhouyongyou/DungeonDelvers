<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Delvers</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Toastify.js (用於非阻塞式提示) -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

    <!-- Local Stylesheet -->
    <link rel="stylesheet" href="style.css">

    <!-- Favicon and Meta Tags -->
    <link rel="icon" href="/assets/images/favicon.ico" sizes="any">
    <link rel="icon" type="image/png" href="/assets/images/logo-192x192.png" sizes="192x192">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json">
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Dungeon Delvers - 你的奇幻冒險由此開始" />
    <meta property="og:description" content="招募傳奇英雄，組建最強隊伍，深入被遺忘的地下城，尋找蘊含著世界本源能量的「魂晶」($SoulShard)！" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.soulshard.fun/" />
    <meta property="og:image" content="https://www.soulshard.fun/assets/images/og-cover-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="Dungeon Delvers" />
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Dungeon Delvers - 你的奇幻冒險由此開始">
    <meta name="twitter:description" content="招募傳奇英雄，組建最強隊伍，深入被遺忘的地下城，尋找蘊含著世界本源能量的「魂晶」($SoulShard)！">
    <meta name="twitter:image" content="https://www.soulshard.fun/assets/images/twitter-cover-image.png">
    <meta property="twitter:url" content="https://www.soulshard.fun/">
</head>
<body class="text-gray-800">

    <div class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-[#1F1D36] shadow-lg sticky top-0 z-50">
            <div class="container mx-auto px-4 py-3">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-4">
                        <img src="/assets/images/logo-512x512.png" alt="Dungeon Delvers Logo" class="h-12 w-12 rounded-full border-2 border-[#C0A573]">
                        <div>
                            <h1 class="text-2xl md:text-3xl font-bold text-white text-shadow-gold">Dungeon Delvers</h1>
                            <p class="text-sm text-gray-300">你的奇幻冒險由此開始</p>
                        </div>
                    </div>
                    <button id="connectWalletBtn" class="btn-primary px-4 py-2 rounded-lg text-sm md:text-base">連接錢包</button>
                </div>
                <nav id="navigation" class="mt-4 flex flex-wrap justify-center space-x-2 md:space-x-6 text-sm md:text-base">
                    <a class="nav-item active" data-target="guide">遊戲指南</a>
                    <a class="nav-item" data-target="dashboard">我的總覽</a>
                    <a class="nav-item" data-target="forge">英雄酒館</a>
                    <a class="nav-item" data-target="barracks">我的隊伍</a>
                    <a class="nav-item" data-target="portal">地下城入口</a>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main id="main-content" class="flex-grow container mx-auto p-4 md:p-6 lg:p-8">
            <section id="guide" class="page-content">
                <div class="hero-banner mb-8 rounded-xl shadow-lg overflow-hidden">
                    <img src="https://www.soulshard.fun/assets/images/cover-1200x400.png" alt="Dungeon Delvers Cover Art" class="w-full h-full object-cover">
                </div>
                <h2 class="text-3xl font-bold text-center mb-6 text-[#2D2A4A]">遊戲指南 & 規則</h2>
                <div class="bg-white/50 p-6 rounded-xl shadow-md mb-8">
                    <h3 class="text-2xl font-bold text-[#2D2A4A] mb-4">歡迎來到 Dungeon Delvers 的世界</h3>
                    <p class="text-lg">這是一款奇幻風格的 NFT 遊戲。您將招募傳奇的英雄，藉由強大的聖物之力，深入被遺忘的地下城，尋找蘊含著世界本源能量的「魂晶」($SoulShard)，並在此過程中贏得榮耀與財富。準備好開始你的史詩冒險了嗎？</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-2xl font-bold mb-4 text-center text-[#2D2A4A]">英雄稀有度 & 掉落機率</h3>
                        <div class="chart-container"><canvas id="heroChart"></canvas></div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold mb-4 text-center text-[#2D2A4A]">聖物稀有度 & 掉落機率</h3>
                        <div class="chart-container"><canvas id="relicChart"></canvas></div>
                    </div>
                </div>
            </section>
            <section id="dashboard" class="page-content hidden">
                 <h2 class="text-3xl font-bold text-center mb-6 text-[#2D2A4A]">我的總覽</h2>
                 <div id="dashboard-status-panel" class="bg-white/50 p-6 rounded-xl shadow-md text-center">
                    <p class="text-lg">請先連接錢包以查看您的個人數據。</p>
                 </div>
            </section>
            <section id="forge" class="page-content hidden">
                <h2 class="text-3xl font-bold text-center mb-2 text-[#2D2A4A]">英雄酒館 & 古代熔爐</h2>
                <p class="text-center text-lg mb-8">這裡是你擴充實力的地方。在酒館中招募未知的英雄，或在熔爐中鑄造傳說的聖物。</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="card-bg p-6 rounded-xl shadow-lg flex flex-col items-center">
                        <h3 class="text-2xl font-bold mb-4">招募英雄</h3>
                        <!-- 將會由 script.js 動態填充價格 -->
                        <p id="hero-mint-price-text" class="text-center mb-6 h-12">讀取價格中...<br/>你可能招募到傳說中的英雄，或是初出茅廬的新手。</p>
                        <button id="mintHeroBtn" class="btn-primary px-8 py-3 rounded-lg text-lg">招募</button>
                    </div>
                    <div class="card-bg p-6 rounded-xl shadow-lg flex flex-col items-center">
                        <h3 class="text-2xl font-bold mb-4">鑄造聖物</h3>
                        <!-- 將會由 script.js 動態填充價格 -->
                        <p id="relic-mint-price-text" class="text-center mb-6 h-12">讀取價格中...<br/>它將決定你隊伍的規模。</p>
                        <button id="mintRelicBtn" class="btn-primary px-8 py-3 rounded-lg text-lg">鑄造</button>
                    </div>
                </div>
            </section>
            <section id="barracks" class="page-content hidden">
                <h2 class="text-3xl font-bold text-center mb-2 text-[#2D2A4A]">我的冒險隊伍</h2>
                <p class="text-center text-lg mb-8">管理你的英雄與聖物，組建最強大的冒險隊伍，為探索地下城做好準備。</p>
                <div class="text-center mb-6">
                    <button id="approveNftsBtn" class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors">
                        (首次需執行) 授權 NFT 轉移權限給地下城
                    </button>
                    <p class="text-xs text-gray-500 mt-1">為了讓地下城合約能保管您的 NFT，您需要先執行一次性的授權。</p>
                </div>
                <div class="mb-8">
                    <h3 class="text-2xl font-bold mb-4 text-[#2D2A4A]">我的英雄 (Heroes)</h3>
                    <div id="heroesContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
                        <p class="col-span-full text-center text-gray-500">連接錢包後將顯示您的英雄...</p>
                    </div>
                </div>
                <div>
                    <h3 class="text-2xl font-bold mb-4 text-[#2D2A4A]">我的聖物 (Relics)</h3>
                    <div id="relicsContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
                         <p class="col-span-full text-center text-gray-500">連接錢包後將顯示您的聖物...</p>
                    </div>
                </div>
            </section>
            <section id="portal" class="page-content hidden">
                <h2 class="text-3xl font-bold text-center mb-2 text-[#2D2A4A]">地下城入口</h2>
                <div id="staking-section">
                    <!-- 狀態一：未質押時顯示 -->
                    <div id="unstaked-view">
                        <p class="text-center text-lg mb-8">集結你的隊伍，選擇目標地下城，開始尋找 $SoulShard 的旅程！</p>
                        <div class="card-bg p-6 rounded-xl shadow-lg mb-8">
                            <h3 class="text-2xl font-bold mb-4 text-center">當前隊伍配置</h3>
                            <div id="currentParty" class="text-center">
                                <p class="text-lg">尚未組建隊伍。請前往「我的隊伍」頁面進行配置。</p>
                                <p class="text-xl font-bold text-[#C0A573] mt-2">總戰力: <span id="totalPower">0</span></p>
                            </div>
                        </div>
                        <div id="dungeonsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        </div>
                    </div>
                    <!-- 狀態二：已質押時顯示 -->
                    <div id="staked-view" class="hidden">
                        <p class="text-center text-lg mb-8">您的隊伍正在地下城深處奮戰！</p>
                        <div id="staked-info-panel" class="card-bg p-6 rounded-xl shadow-lg mb-8 text-center">
                            <!-- JS 將會填充這裡的內容 -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <!-- Footer -->
        <footer class="bg-[#1F1D36] text-gray-300 py-6">
            <div class="container mx-auto text-center">
                <p class="font-serif text-lg text-gradient mb-2">加入我們的社群</p>
                <div class="flex justify-center gap-8 mb-4">
                    <!-- Telegram -->
                    <a href="https://t.me/your-telegram-handle" target="_blank" class="bg-blue-500 text-white p-2 rounded-full hover:bg-blue-600 transition-all duration-300 ease-in-out" aria-label="Telegram">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg">
                            <path d="M14.9932 1.58221C15.0223 1.40736 14.9567 1.23016 14.8208 1.11645C14.6848 1.00274 14.4988 0.969519 14.3318 1.02914L0.331836 6.02914C0.143209 6.0965 0.0129867 6.26994 0.000913704 6.46987C-0.0111592 6.6698 0.0972469 6.85765 0.276398 6.94722L4.2764 8.94722C4.43688 9.02746 4.62806 9.01556 4.77735 8.91603L8.09775 6.70244L6.10957 9.18766C6.02203 9.29709 5.98442 9.43824 6.00592 9.57672C6.02742 9.7152 6.10605 9.8383 6.22265 9.91603L12.2227 13.916C12.3638 14.0101 12.5431 14.0262 12.6988 13.9588C12.8545 13.8914 12.9653 13.7496 12.9932 13.5822L14.9932 1.58221Z" fill="#ffffff" transform="translate(-1, 0.5)"/>
                        </svg>
                    </a>
                </div>
                <p class="text-xs">&copy; 2025 Dungeon Delvers. All Rights Reserved.</p>
            </div>
        </footer>
    </div>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="script.js"></script>
</body>
</html>
