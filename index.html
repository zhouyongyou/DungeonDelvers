<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Delvers</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- Favicon and Meta Tags -->
    <link rel="icon" href="/assets/images/favicon.ico" sizes="any">
    <link rel="icon" type="image/png" href="/assets/images/logo-192x192.png" sizes="192x192">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json">
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Dungeon Delvers - 你的奇幻冒險由此開始" />
    <meta property="og:description" content="招募傳奇英雄，組建最強隊伍，深入被遺忘的地下城，尋找蘊含著世界本源能量的「魂晶」($SoulShard)！" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.soulshard.fun/" />
    <meta property="og:image" content="https://www.soulshard.fun/assets/images/og-cover-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="Dungeon Delvers" />
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Dungeon Delvers - 你的奇幻冒險由此開始">
    <meta name="twitter:description" content="招募傳奇英雄，組建最強隊伍，深入被遺忘的地下城，尋找蘊含著世界本源能量的「魂晶」($SoulShard)！">
    <meta name="twitter:image" content="https://www.soulshard.fun/assets/images/twitter-cover-image.png">
    <meta property="twitter:url" content="https://www.soulshard.fun/">
</head>
<body class="text-gray-800">

    <div class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-[#1F1D36] shadow-lg sticky top-0 z-50">
            <div class="container mx-auto px-4 py-3">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-4">
                        <img src="/assets/images/logo-512x512.png" alt="Dungeon Delvers Logo" class="h-12 w-12 rounded-full border-2 border-[#C0A573]">
                        <div>
                            <h1 class="text-2xl md:text-3xl font-bold text-white text-shadow-gold">Dungeon Delvers</h1>
                            <p class="text-sm text-gray-300">你的奇幻冒險由此開始</p>
                        </div>
                    </div>
                    <button id="connectWalletBtn" class="btn-primary px-4 py-2 rounded-lg text-sm md:text-base">連接錢包</button>
                </div>
                <nav id="navigation" class="mt-4 flex flex-wrap justify-center space-x-2 md:space-x-6 text-sm md:text-base">
                    <a class="nav-item active" data-target="guide">遊戲指南</a>
                    <a class="nav-item" data-target="dashboard">我的總覽</a>
                    <a class="nav-item" data-target="forge">英雄酒館</a>
                    <a class="nav-item" data-target="barracks">我的隊伍</a>
                    <a class="nav-item" data-target="portal">地下城入口</a>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main id="main-content" class="flex-grow container mx-auto p-4 md:p-6 lg:p-8">
            <section id="guide" class="page-content">
                <div class="hero-banner mb-8 rounded-xl shadow-lg overflow-hidden">
                    <img src="https://www.soulshard.fun/assets/images/cover-1200x400.png" alt="Dungeon Delvers Cover Art" class="w-full h-full object-cover">
                </div>
                <h2 class="text-3xl font-bold text-center mb-6 text-[#2D2A4A]">遊戲指南 & 規則</h2>
                <div class="bg-white/50 p-6 rounded-xl shadow-md mb-8">
                    <h3 class="text-2xl font-bold text-[#2D2A4A] mb-4">歡迎來到 Dungeon Delvers 的世界</h3>
                    <p class="text-lg">這是一款奇幻風格的 NFT 遊戲。您將招募傳奇的英雄，藉由強大的聖物之力，深入被遺忘的地下城，尋找蘊含著世界本源能量的「魂晶」($SoulShard)，並在此過程中贏得榮耀與財富。準備好開始你的史詩冒險了嗎？</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-2xl font-bold mb-4 text-center text-[#2D2A4A]">英雄稀有度 & 掉落機率</h3>
                        <div class="chart-container"><canvas id="heroChart"></canvas></div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold mb-4 text-center text-[#2D2A4A]">聖物稀有度 & 掉落機率</h3>
                        <div class="chart-container"><canvas id="relicChart"></canvas></div>
                    </div>
                </div>
            </section>
            <section id="dashboard" class="page-content hidden">
                 <h2 class="text-3xl font-bold text-center mb-6 text-[#2D2A4A]">我的總覽</h2>
                 <div class="bg-white/50 p-6 rounded-xl shadow-md text-center">
                    <p class="text-lg">請先連接錢包以查看您的個人數據。</p>
                    <p class="text-gray-600 mt-4">(此處未來將顯示您的 $SoulShard 餘額、資產總覽等資訊)</p>
                 </div>
            </section>
            <section id="forge" class="page-content hidden">
                <h2 class="text-3xl font-bold text-center mb-2 text-[#2D2A4A]">英雄酒館 & 古代熔爐</h2>
                <p class="text-center text-lg mb-8">這裡是你擴充實力的地方。在酒館中招募未知的英雄，或在熔爐中鑄造傳說的聖物。</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="card-bg p-6 rounded-xl shadow-lg flex flex-col items-center">
                        <h3 class="text-2xl font-bold mb-4">招募英雄</h3>
                        <p class="text-center mb-6">花費 1900 $SoulShard，你可能招募到傳說中的英雄，或是初出茅廬的新手。</p>
                        <button id="mintHeroBtn" class="btn-primary px-8 py-3 rounded-lg text-lg">招募</button>
                    </div>
                    <div class="card-bg p-6 rounded-xl shadow-lg flex flex-col items-center">
                        <h3 class="text-2xl font-bold mb-4">鑄造聖物</h3>
                        <p class="text-center mb-6">花費 9000 $SoulShard，喚醒沉睡的古代聖物，它將決定你隊伍的規模。</p>
                        <button id="mintRelicBtn" class="btn-primary px-8 py-3 rounded-lg text-lg">鑄造</button>
                    </div>
                </div>
            </section>
            <section id="barracks" class="page-content hidden">
                <h2 class="text-3xl font-bold text-center mb-2 text-[#2D2A4A]">我的冒險隊伍</h2>
                <p class="text-center text-lg mb-8">管理你的英雄與聖物，組建最強大的冒險隊伍，為探索地下城做好準備。</p>
                <div class="text-center mb-6">
                    <button id="approveNftsBtn" class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors">
                        (首次需執行) 授權 NFT 轉移權限給地下城
                    </button>
                    <p class="text-xs text-gray-500 mt-1">為了讓地下城合約能保管您的 NFT，您需要先執行一次性的授權。</p>
                </div>
                <div class="mb-8">
                    <h3 class="text-2xl font-bold mb-4 text-[#2D2A4A]">我的英雄 (Heroes)</h3>
                    <div id="heroesContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
                        <p class="col-span-full text-center text-gray-500">連接錢包後將顯示您的英雄...</p>
                    </div>
                </div>
                <div>
                    <h3 class="text-2xl font-bold mb-4 text-[#2D2A4A]">我的聖物 (Relics)</h3>
                    <div id="relicsContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
                         <p class="col-span-full text-center text-gray-500">連接錢包後將顯示您的聖物...</p>
                    </div>
                </div>
            </section>
            <section id="portal" class="page-content hidden">
                <h2 class="text-3xl font-bold text-center mb-2 text-[#2D2A4A]">地下城入口</h2>
                <div id="staking-section">
                    <!-- 狀態一：未質押時顯示 -->
                    <div id="unstaked-view">
                        <p class="text-center text-lg mb-8">集結你的隊伍，選擇目標地下城，開始尋找 $SoulShard 的旅程！</p>
                        <div class="card-bg p-6 rounded-xl shadow-lg mb-8">
                            <h3 class="text-2xl font-bold mb-4 text-center">當前隊伍配置</h3>
                            <div id="currentParty" class="text-center">
                                <p class="text-lg">尚未組建隊伍。請前往「我的隊伍」頁面進行配置。</p>
                                <p class="text-xl font-bold text-[#C0A573] mt-2">總戰力: <span id="totalPower">0</span></p>
                            </div>
                        </div>
                        <div id="dungeonsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        </div>
                    </div>
                    <!-- 狀態二：已質押時顯示 -->
                    <div id="staked-view" class="hidden">
                        <p class="text-center text-lg mb-8">您的隊伍正在地下城深處奮戰！</p>
                        <div id="staked-info-panel" class="card-bg p-6 rounded-xl shadow-lg mb-8 text-center">
                            <!-- JS 將會填充這裡的內容 -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <!-- Footer -->
        <footer class="bg-[#1F1D36] text-gray-300 py-6">
            <div class="container mx-auto text-center">
                <p class="font-serif text-lg text-gradient mb-2">加入我們的社群</p>
                <div class="flex justify-center gap-8 mb-4">
                    <!-- Twitter -->
                    <a href="https://twitter.com/your-twitter-handle" target="_blank" class="bg-blue-500 text-white p-2 rounded-full hover:bg-blue-600 transition-all duration-300 ease-in-out" aria-label="Twitter">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path>
                        </svg>
                    </a>
                    <!-- Telegram -->
                    <a href="https://t.me/soulshard_BSC" target="_blank" class="bg-[#1d93d2] text-white p-2 rounded-full hover:bg-[#38b0e3] transition-all duration-300 ease-in-out" aria-label="Telegram">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" class="w-6 h-6">
                            <!-- Linear Gradient Definition -->
                            <defs>
                                <linearGradient id="linear-gradient" x1="120" y1="240" x2="120" gradientUnits="userSpaceOnUse">
                                    <stop offset="0" style="stop-color:#2AABEE"/>
                                    <stop offset="1" style="stop-color:#229ED9"/>
                                </linearGradient>
                            </defs>
                    
                            <!-- Circle with Gradient Fill -->
                            <circle cx="120" cy="120" r="120" class="transition-all duration-300 ease-in-out" fill="url(#linear-gradient)" />
                    
                            <!-- Telegram Logo Path -->
                            <path fill="#fff" d="M54.3,118.8c35-15.2,58.3-25.3,70-30.2 c33.3-13.9,40.3-16.3,44.8-16.4c1,0,3.2,0.2,4.7,1.4c1.2,1,1.5,2.3,1.7,3.3s0.4,3.1,0.2,4.7c-1.8,19-9.6,65.1-13.6,86.3 c-1.7,9-5,12-8.2,12.3c-7,0.6-12.3-4.6-19-9c-10.6-6.9-16.5-11.2-26.8-18c-11.9-7.8-4.2-12.1,2.6-19.1c1.8-1.8,32.5-29.8,33.1-32.3 c0.1-0.3,0.1-1.5-0.6-2.1c-0.7-0.6-1.7-0.4-2.5-0.2c-1.1,0.2-17.9,11.4-50.6,33.5c-4.8,3.3-9.1,4.9-13,4.8 c-4.3-0.1-12.5-2.4-18.7-4.4c-7.5-2.4-13.5-3.7-13-7.9C45.7,123.3,48.7,121.1,54.3,118.8z"/>
                        </svg>
                    </a>
                </div>
                <p class="text-xs">&copy; 2025 Dungeon Delvers. All Rights Reserved.</p>
            </div>
        </footer>
    </div>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
